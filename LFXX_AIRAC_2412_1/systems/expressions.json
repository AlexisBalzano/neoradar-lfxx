{
  "$schema": "https://raw.githubusercontent.com/neoradar-project/schemas/main/systems/expressions.schema.json",
  "rules": {
    "incorrectSquawkYellowColor": { "value": "239, 247, 72", "expression": ["$incorrectSquawk"] },
    "incorrectSquawkRedColor": { "value": "239, 20, 72", "expression": ["$incorrectSquawk"] },
    "emptyIfNoAssignedSquawk":  {"value": "", "expression": ["$noAssignedSquawk"] },

    "suggestedSidIfNoAssigned": { "value": "&suggestedSid", "expression": ["$isAssignedSidEmpty"] },
    "suggestedDepRunwayIfNoAssigned": {
      "value": "&suggestedDepRunway",
      "expression": ["$isAssignedDepRunwayEmpty"]
    },
    "suggestedArrRunwayIfNoAssigned": {
      "value": "&suggestedArrRunway",
      "expression": ["$isAssignedArrRunwayEmpty"]
    },
    "suggestedStarIfNoAssigned": { "value": "&suggestedStar", "expression": ["$isAssignedStarEmpty"] },
    "colourControllerTimingOut": {
      "value": "255, 180, 10",
      "expression": ["$isControllerTimingOut"]
    },

    "suggestedSidColor": { "value": "142,142,142", "expression": ["$isAssignedSidEmpty"] },
    "suggestedDepRunwayColor": { "value": "142,142,142", "expression": ["$isAssignedDepRunwayEmpty"] },
    "suggestedStarColor": { "value": "142,142,142", "expression": ["$isAssignedStarEmpty"] },
    "suggestedArrRunwayColor": {
      "value": "142,142,142",
      "expression": ["$isAssignedArrRunwayEmpty"]
    },

    "blueDepRunway": { "value": "29,118,226", "expression": ["$isAssignedDepRunwayNotEmpty"] },
    "blueAssignedSid": { "value": "29,118,226", "expression": ["$isAssignedSidNotEmpty"] },

    "blueArrRunway": { "value": "29,118,226", "expression": ["$isAssignedArrRunwayNotEmpty"] },
    "blueAssignedStar": { "value": "29,118,226", "expression": ["$isAssignedStarNotEmpty"] },

    "colourAssumed": { "value": "246,246,246", "expression": ["$isAssumed"] },
    "colourUnconcerned": { "value": "142,142,142", "expression": ["$isUnconcerned"] },
    "colourConcerned": { "value": "175,201,128", "expression": ["$isConcerned"] },
    "colourInboundTransfer": { "value": "190,225,191", "expression": ["$isInboundTransfer"] },
    "colourOutboundTransfer": { "value": "94,175,180", "expression": ["$isOutboundTransfer"] },

    "cdgBlack": { "value": "209,209,209", "expression": ["$isDep", "$airfrance"] },
    "cdgDefaultBlueOne": { "value": "128,165,165", "expression": ["$isCDGOrPBDeparture"] },
    "cdgDefaultBlueTwo": { "value": "91,139,116065", "expression": ["$isParisGroupDeparture"] },

    "penWhenScratchpadNotEmpty": { "value": ":i\ue4f4", "expression": ["$scratchPathNotEmpty"] },
    "blueColorScratchpadNotEmpty": {
      "value": "29,118,226",
      "expression": ["$scratchPathNotEmpty"]
    },

    "altitudeBelowTAPrefix": { "value": "A", "expression": ["$isBelowTransitionAltitude"] },
    "altitudeBelowTATruncate": { "value": "1,3", "expression": ["$isBelowTransitionAltitude"] },
    "altitudeAboveTATruncate": { "value": "0,3", "expression": ["$isAboveTransitionAltitude"] },

    "assumedPrefix": { "value": "[", "expression": ["$isAssumed"] },
    "assumedSuffix": { "value": "]", "expression": ["$isAssumed"] }
  },
  "expressions": {
    "alwaysTrue": ["notEmpty", "callsign"],
    "alwaysFalse": [
      "AND",
      [
        ["==", "isDeparture", "1"],
        ["==", "isDeparture", "1"]
      ]
    ],

    "isControllerTimingOut": ["==", "controllerIsTimingOut", "1"],

    "is_standby": ["==", "latestTransponderStatus", "0"],
    "is_modec": ["==", "latestTransponderStatus", "1"],

    "isDep": ["==", "isDeparture", "1"],
    "isArr": ["==", "isArrival", "1"],

    "incorrectSquawk": ["!=", "squawk", "&assignedSquawk"],
    "noAssignedSquawk": ["==", "assignedSquawk", "0000"],

    "isAssignedSidEmpty": ["isEmpty", "sid"],
    "isAssignedDepRunwayEmpty": ["isEmpty", "depRunway"],
    "isAssignedArrRunwayEmpty": ["isEmpty", "arrRunway"],
    "isAssignedStarEmpty": ["isEmpty", "star"],
    "isAssignedSidNotEmpty": ["notEmpty", "sid"],
    "isAssignedDepRunwayNotEmpty": ["notEmpty", "depRunway"],
    "isAssignedArrRunwayNotEmpty": ["notEmpty", "arrRunway"],
    "isAssignedStarNotEmpty": ["notEmpty", "star"],
    "hasAssignedSid": ["notEmpty", "sid"],

    "isBelowTransitionAltitude": ["<", "altitude", "&transitionAltitude"],
    "isAboveTransitionAltitude": [">=", "altitude", "&transitionAltitude"],

    "scratchPathNotEmpty": ["notEmpty", "scratchpad"],

    "isUnconcerned": ["==", "attentionState", "0"],
    "isConcerned": ["==", "attentionState", "1"],
    "isInboundTransfer": ["==", "attentionState", "2"],
    "isOutboundTransfer": ["==", "attentionState", "4"],
    "isAssumed": ["==", "attentionState", "3"],
    "notAssumed": ["!=", "attentionState", "3"],

    "isParisGroupArrival": ["beginsWith", "destination", "LFP"],
    "isParisGroupDeparture": ["beginsWith", "origin", "LFP"],
    "isOrlyGroupArrival": [
      "OR",
      [
        ["==", "destination", "LFPO"],
        ["==", "destination", "LFPV"],
        ["==", "destination", "LFPN"]
      ]
    ],
    "isCDGOrPBDeparture": [
      "OR",
      [
        ["==", "origin", "LFPG"],
        ["==", "origin", "LFPB"]
      ]
    ],
    "isLFPGNorthArrival": [
      "AND",
      [
        ["==", "destination", "LFPG"],
        [
          "OR",
          [
            ["beginsWith", "arrRunway", "09"],
            ["beginsWith", "arrRunway", "27"],
            ["beginsWith", "suggestedArrRunway", "09"],
            ["beginsWith", "suggestedArrRunway", "27"]
          ]
        ],
        [
          "NOT",
          [
            ["beginsWith", "arrRunway", "08"],
            ["beginsWith", "arrRunway", "26"],
            ["beginsWith", "suggestedArrRunway", "08"],
            ["beginsWith", "suggestedArrRunway", "26"]
          ]
        ]
      ]
    ],
    "isLFPGSouthArrival": [
      "AND",
      [
        ["==", "destination", "LFPG"],
        [
          "OR",
          [
            ["beginsWith", "arrRunway", "08"],
            ["beginsWith", "arrRunway", "26"],
            ["beginsWith", "suggestedArrRunway", "08"],
            ["beginsWith", "suggestedArrRunway", "26"]
          ]
        ],
        [
          "NOT",
          [
            ["beginsWith", "arrRunway", "09"],
            ["beginsWith", "arrRunway", "27"],
            ["beginsWith", "suggestedArrRunway", "09"],
            ["beginsWith", "suggestedArrRunway", "27"]
          ]
        ]
      ]
    ]
  }
}
